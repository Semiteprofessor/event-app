scalar DateTime

enum Role {
  USER
  ADMIN
  SUPER_ADMIN
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

type User {
  id: ID!
  firstName: String!
  lastName: String!
  email: String!
  gender: Gender
  coverId: String
  coverUrl: String
  coverBlurDataURL: String
  phone: String
  status: String
  address: String
  city: String
  zip: String
  country: String
  state: String
  about: String
  isVerified: Boolean!
  otp: String
  commission: Float
  role: Role!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Order {
  id: ID!
  createdAt: DateTime!
  total: Float!
  # Add other Order fields here
}

type UserOrdersResult {
  user: User!
  orders: [Order!]!
  count: Int!
}

type InvoiceResult {
  orders: [Order!]!
  count: Int!
}

type Query {
  userByAdmin(id: ID!, page: Int, limit: Int): UserOrdersResult!
  invoice(page: Int, limit: Int): InvoiceResult!
}

type PagedOrders {
  orders: [Order!]!
  count: Int!
}

type AuthPayload {
  success: Boolean!
  message: String!
  token: String
  user: User
  otp: String
}

type Query {
  me: User!
  userByAdmin(id: ID!, page: Int, limit: Int): PagedOrders!
  invoice(page: Int, limit: Int): PagedOrders!
}

type Mutation {
  registerUser(input: RegisterInput!): AuthPayload!
  loginUser(input: LoginInput!): AuthPayload!
  forgetPassword(email: String!, origin: String!): AuthPayload!
  resetPassword(token: String!, newPassword: String!): AuthPayload!
  verifyOtp(email: String!, otp: String!): AuthPayload!
  resendOtp(email: String!): AuthPayload!

  # ðŸ‘‡ New mutations
  updateUser(data: UpdateUserInput!): User!
  changePassword(
    password: String!
    newPassword: String!
    confirmPassword: String!
  ): String!
}

input RegisterInput {
  firstName: String!
  lastName: String!
  email: String!
  password: String!
  gender: Gender
  phone: String
  address: String
  city: String
  zip: String
  country: String
  state: String
  about: String
  role: Role
}

input LoginInput {
  email: String!
  password: String!
}

input UpdateUserInput {
  firstName: String
  lastName: String
  phone: String
  address: String
  city: String
  zip: String
  country: String
  state: String
  about: String
  coverUrl: String
}
